<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test Document</title>
</head>
<body>
  <h1>AJAX Example</h1>
  <button onclick="reqData()">Load Data</button>
  <button onclick="postData()">Create Data</button>
</body>
    <script>
function reqData() {

    let URL = 'https://crud.teamrabbil.com/api/v1/readProduct';
    let Options = {
        method: 'GET'
    };

    fetch(URL, Options)
        .then(response => response.json())
        .then(data => {
            console.log(data);
            alert('Title: ' + data.title + '\nBody: ' + data.body);
        })
        .catch(error => {
            console.error('Error fetching data:', error);
        });
}


function postData() {   
    let URL = 'https://crud.teamrabbil.com/api/v1/CreateProduct';
    let data = {
        Img: 'New Product',
        ProductCode: '133',
        ProductName: 'TV',
        Qty: '11',
        TotalPrice: '10000',
        UnitPrice: '1000'
    };

    let Options = {
        method: 'POST',
        headers: {
            'accept': 'application/json',
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
    };

    fetch(URL, Options)
        .then(response => response.json())
        .then(data => {
            console.log(data);
            alert('Data created with ID: ' + data.id);
        })
        .catch(error => {
            console.error('Error posting data:', error);
        });
}

    </script>
</html>
